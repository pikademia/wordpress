jQuery(document).ready(function(e){function _(){e(".acym__walkthrough__list__receivers__remove").off("click").on("click",function(){e(this).closest("tr").remove()})}e("#acym__walk_through_license__button__license").on("click",function(){let _=jQuery("#acym__walkthrough__step_license__wait_attach_license_icon");_.removeClass("is-hidden");const t={ctrl:"dashboard",task:"stepLicenseAttachLicense",licenseKey:jQuery("#acym__configuration__license-key").val()};acym_helper.post(ACYM_AJAX_URL,t).then(t=>{let a=document.getElementById("acym__walk_through_license__licenseStatus");t.error?(a.innerHTML=t.message,a.classList.remove("acym__color__green"),a.classList.add("acym__color__red")):(e("#acym__walk_through_license__button__cron").removeAttr("disabled"),e(".acym__tooltip_button__cron").css("display","none"),a.innerHTML=ACYM_JS_TXT.ACYM_LICENSE_ACTIVATED,a.classList.add("acym__color__green"),a.classList.remove("acym__color__red")),_.addClass("is-hidden")})}),e("#acym__walk_through_license__button__cron").on("click",function(){if("disabled"===jQuery("#acym__walk_through_license__button__cron").attr("disabled"))return;let e=jQuery("#acym__walkthrough__step_license__wait_active_cron_icon");e.removeClass("is-hidden");const _={ctrl:"dashboard",task:"stepLicenseActivateCron",licenseKey:jQuery("#acym__configuration__license-key").val()};acym_helper.post(ACYM_AJAX_URL,_).then(_=>{let t=document.getElementById("acym__walk_through_license__cron_label");_.error?(t.innerHTML=_.message,t.classList.remove("acym__color__green"),t.classList.add("acym__color__red")):(t.innerHTML=ACYM_JS_TXT.ACYM_ACTIVATED,t.classList.add("acym__color__green"),t.classList.remove("acym__color__red")),e.addClass("is-hidden")})}),function(){let _=e('input[name="config[mailer_method]"]');_.on("change",function(){e(".send_settings").hide();let _=e('input[name="config[mailer_method]"]:checked').val();const t=e(`#${_}_settings`);t.length>0&&(t.show(),jQuery("#acym__selection__button-select").removeAttr("disabled"))}),_.trigger("change")}(),e("#acym__walk-through-1__content__toggle-reply-to__checkbox").off("change").on("change",function(){e(".acym__walk-through-1__content__reply-to").toggle()}),e("#acym__subscribe__news").on("click",function(){let _=e('input[type="email"]').val();if(!acym_helper.emailValid(_))return alert(ACYM_JS_TXT.email),!1;e(this).attr("disabled","true");let t=AJAX_URL_UPDATEME+"subscription&task=subscribe&email="+_+"&cms="+ACYM_CMS;e.get(t),e(".acy_button_submit").trigger("click")}),_(),e("#acym__walkthrough__list__new").on("click",function(){e(this).hide(),e("#acym__walkthrough__list__add-zone").show(),e("#acym__walkthrough__list__new-address").focus()}),e("#acym__walkthrough__list__add").on("click",function(){let t=e("#acym__walkthrough__list__new-address"),a=t.val();if(!acym_helper.emailValid(a))return alert(ACYM_JS_TXT.email),!1;{let c='<input type="hidden" name="addresses[]" value="'+a+'"/>'+a,l='<i class="acymicon-remove acym__walkthrough__list__receivers__remove"></i>';e("#acym__walkthrough__list__receivers").append("<tr><td>"+c+"</td><td>"+l+"</td></tr>"),t.val(""),e("#acym__walkthrough__list__add-zone").hide(),e("#acym__walkthrough__list__new").show(),_()}}),e("#acym__walkthrough__list__new-address").on("keypress",function(_){if("Enter"===_.key)return e("#acym__walkthrough__list__add").trigger("click"),!1}),e("#acym__walkthrough__skip__fail").off("click").on("click",function(){e("[required]").removeAttr("required"),e('[type="email"]').attr("type","text"),e("#acym__walkthrough__skip").trigger("click")}),e(".acym__walkthrough__result__choice__one").off("click").on("click",function(){if(e(this).hasClass("selected"))return!0;e(".acym__walkthrough__result__choice__one").removeClass("selected"),e(this).addClass("selected"),"acym__walkthrough__result__choice__no"===e(this).attr("id")?e("#acym__walkthrough__result__spam").addClass("visible"):e("#acym__walkthrough__result__spam").removeClass("visible"),e('input[name="result"]').val(e(this).attr("data-value")),e('[data-task="saveStepResult"]').attr("disabled",!1)}),acym_helperEditorWysid.initEditor(),acym_helperMailer.setTestCredentialsSendingMethods(),acym_helperMailer.setButtonCopyFromPlugin(),acym_helperMailer.setSynchroExistingUsers(),acym_helperSelectionPage.setSelectionElement(!0,!1,void 0,"#acym__selection__button-select"),acym_helperMailer.dislayAuth2Params(),acym_helperMailer.loginForAuth2(),e.walkthroughList=function(){return 0!==e(".acym__walkthrough__list__receivers__remove").length||(alert(ACYM_JS_TXT.ACYM_AT_LEAST_ONE_USER),!1)}});