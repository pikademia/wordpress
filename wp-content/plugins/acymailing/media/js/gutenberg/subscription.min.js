const acym_subscriptionBlock={el:"",useBlockProps:"",blockEditor:"",components:"",wpElement:"",ajaxUrl:"admin-ajax.php?action=acymailing_router&noheader=1",lists:[],fields:[],posts:[],listPlacement:[],displayMode:[],displayTextMode:[],unsubButton:[],replaceMessage:[],subscriberInfo:[],alignment:[],includeJavascript:[],styleMultiselect:{minHeight:"90px"},init:function(e,t,l,i){this.initValues(),this.initLists(),this.initFields(),this.initPosts(),this.wpElement=t,this.el=this.wpElement.createElement,this.useBlockProps=l.useBlockProps,this.blockEditor=l,this.components=i,this.registerBlock(e),this.initCategory(e)},initValues:function(){this.listPlacement=[{value:"before",label:ACYM_JS_TXT.ACYM_BEFORE_FIELDS},{value:"after",label:ACYM_JS_TXT.ACYM_AFTER_FIELDS}],this.displayMode=[{value:"inline",label:ACYM_JS_TXT.ACYM_MODE_HORIZONTAL},{value:"vertical",label:ACYM_JS_TXT.ACYM_MODE_VERTICAL},{value:"tableless",label:ACYM_JS_TXT.ACYM_MODE_TABLELESS}],this.displayTextMode=[{value:"1",label:ACYM_JS_TXT.ACYM_TEXT_INSIDE},{value:"0",label:ACYM_JS_TXT.ACYM_TEXT_OUTSIDE}],this.unsubButton=[{value:"0",label:ACYM_JS_TXT.ACYM_NO},{value:"1",label:ACYM_JS_TXT.ACYM_CONNECTED_USER_SUBSCRIBED},{value:"2",label:ACYM_JS_TXT.ACYM_ALWAYS}],this.replaceMessage=[{value:"replace",label:ACYM_JS_TXT.ACYM_SUCCESS_REPLACE},{value:"replacetemp",label:ACYM_JS_TXT.ACYM_SUCCESS_REPLACE_TEMP},{value:"toptemp",label:ACYM_JS_TXT.ACYM_SUCCESS_TOP_TEMP},{value:"standard",label:ACYM_JS_TXT.ACYM_SUCCESS_STANDARD}],this.subscriberInfo=[{value:"1",label:ACYM_JS_TXT.ACYM_YES},{value:"0",label:ACYM_JS_TXT.ACYM_NO}],this.alignment=[{value:"none",label:ACYM_JS_TXT.ACYM_DEFAULT},{value:"left",label:ACYM_JS_TXT.ACYM_LEFT},{value:"center",label:ACYM_JS_TXT.ACYM_CENTER},{value:"right",label:ACYM_JS_TXT.ACYM_RIGHT}],this.includeJavascript=[{value:"header",label:ACYM_JS_TXT.ACYM_IN_HEADER},{value:"module",label:ACYM_JS_TXT.ACYM_ON_THE_MODULE}]},initLists:function(){for(let[e,t]of Object.entries(acym_lists))this.lists.push({value:e,label:t})},initFields:function(){for(let[e,t]of Object.entries(acym_fields))this.fields.push({value:e,label:t.name})},initPosts:function(){acym_posts.map(e=>{e.map(e=>{this.posts.push({value:e[0],label:e[1]})})})},registerBlock:function(e){const t=this.el("span",{class:"dashicon dashicons dashicons-email",style:{color:"#2199e8"}});e.registerBlockType("acymailing/subscription-form",{apiVersion:2,title:ACYM_JS_TXT.ACYM_ACYMAILING_SUBSCRIPTION_FORM,icon:t,category:"acymailing",edit:this.edit})},edit:function(e){let t=acym_subscriptionBlock.useBlockProps(),l=acym_subscriptionBlock,{Fragment:i}=l.wpElement,{PanelBody:_}=l.components,{InspectorControls:s}=l.blockEditor;return l.el("div",t,l.el(i,{},l.el(s,{},l.el(_,{title:ACYM_JS_TXT.ACYM_MAIN_OPTIONS,initialOpen:!0},l.textEdit(ACYM_JS_TXT.ACYM_TITLE,e,"title"),l.selectEdit(ACYM_JS_TXT.ACYM_DISPLAY_MODE,e,"mode","displayMode"),l.textEdit(ACYM_JS_TXT.ACYM_SUBSCRIBE_TEXT,e,"subtext"),l.textEdit(ACYM_JS_TXT.ACYM_SUBSCRIBE_TEXT_LOGGED_IN,e,"subtextlogged")),l.el(_,{title:ACYM_JS_TXT.ACYM_LISTS_OPTIONS,initialOpen:!0},l.selectEdit(ACYM_JS_TXT.ACYM_AUTO_SUBSCRIBE_TO,e,"hiddenlists","lists",!0),l.selectEdit(ACYM_JS_TXT.ACYM_DISPLAYED_LISTS,e,"displists","lists",!0),l.selectEdit(ACYM_JS_TXT.ACYM_LISTS_CHECKED_DEFAULT,e,"listschecked","lists",!0),l.selectEdit(ACYM_JS_TXT.ACYM_DISPLAY_LISTS,e,"listposition","listPlacement")),l.el(_,{title:ACYM_JS_TXT.ACYM_FIELDS_OPTIONS,initialOpen:!1},l.selectEdit(ACYM_JS_TXT.ACYM_FIELDS_TO_DISPLAY,e,"fields","fields",!0),l.selectEdit(ACYM_JS_TXT.ACYM_TEXT_MODE,e,"textmode","displayTextMode"),l.selectEdit(ACYM_JS_TXT.ACYM_FORM_AUTOFILL_ID,e,"userinfo","subscriberInfo")),l.el(_,{title:ACYM_JS_TXT.ACYM_TERMS_POLICY_OPTIONS,initialOpen:!1},l.selectEdit(ACYM_JS_TXT.ACYM_TERMS_CONDITIONS,e,"termscontent","posts"),l.selectEdit(ACYM_JS_TXT.ACYM_PRIVACY_POLICY,e,"privacypolicy","posts")),l.el(_,{title:ACYM_JS_TXT.ACYM_SUBSCRIBE_OPTIONS,initialOpen:!1},l.selectEdit(ACYM_JS_TXT.ACYM_SUCCESS_MODE,e,"successmode","replaceMessage"),l.textEdit(ACYM_JS_TXT.ACYM_CONFIRMATION_MESSAGE,e,"confirmation_message"),l.textEdit(ACYM_JS_TXT.ACYM_REDIRECT_LINK,e,"redirect")),l.el(_,{title:ACYM_JS_TXT.ACYM_UNSUBSCRIBE_OPTIONS,initialOpen:!1},l.selectEdit(ACYM_JS_TXT.ACYM_DISPLAY_UNSUB_BUTTON,e,"unsub","unsubButton"),l.textEdit(ACYM_JS_TXT.ACYM_UNSUBSCRIBE_TEXT,e,"unsubtext"),l.textEdit(ACYM_JS_TXT.ACYM_REDIRECT_LINK_UNSUB,e,"unsubredirect")),l.el(_,{title:ACYM_JS_TXT.ACYM_ADVANCED_OPTIONS,initialOpen:!1},l.textEdit(ACYM_JS_TXT.ACYM_INTRO_TEXT,e,"introtext"),l.textEdit(ACYM_JS_TXT.ACYM_POST_TEXT,e,"posttext"),l.selectEdit(ACYM_JS_TXT.ACYM_ALIGNMENT,e,"alignment","alignment"),l.selectEdit(ACYM_JS_TXT.ACYM_MODULE_JS,e,"includejs","includeJavascript"),l.textEdit(ACYM_JS_TXT.ACYM_SOURCE,e,"source")))),l.el(window.wp.serverSideRender,{block:"acymailing/subscription-form",attributes:e.attributes}))},textEdit:function(e,t,l,i={width:"100%"}){let{TextControl:_}=this.components;return this.el(_,{label:e,onChange:e=>{let i={};i[l]=e,t.setAttributes(i)},value:t.attributes[l],style:i})},selectEdit:function(e,t,l,i,_=!1,s={}){let{SelectControl:T}=this.components;return _&&(s=this.styleMultiselect),this.el(T,{multiple:_,label:e,onChange:e=>{let i={};i[l]=e,t.setAttributes(i)},style:s,value:t.attributes[l],options:this[i]})},initCategory:function(e){const t=this.el("svg",{width:20,height:20,viewBox:"0 0 1024 1024"},this.el("path",{d:"M553.074 174.168c-12.201 7.319-26.84 10.573-40.668 10.573s-27.655-3.253-40.668-10.573l-242.376-139.081-229.362 132.575v732.011l254.576 143.963v-430.26l219.602 124.442c11.388 6.507 24.401 9.76 37.415 9.76 0 0 0 0 0 0s0 0 0 0c12.201 0 25.214-3.253 36.6-9.76l221.23-124.442v430.26l254.576-144.775v-732.011l-229.362-131.762-241.563 139.081zM491.261 701.215l-217.164-122.815-61.001-34.161v430.26l-173.243-97.601v-662.063l422.94 245.629c0 0 0 0 0 0 8.947 4.881 17.895 8.135 27.655 10.573v230.178zM983.334 876.086l-173.243 98.416v-431.073l-61.001 34.161-217.164 122.815v-229.362c9.76-2.441 18.707-5.694 27.655-10.573l423.753-246.444v662.063zM539.246 425.493c-17.080 9.76-38.227 9.76-55.307 0 0 0 0 0 0 0l-422.94-245.629 168.362-97.601 222.043 127.696c18.707 10.573 39.853 16.267 61.001 16.267s42.294-5.694 61.001-16.267l222.043-127.696 168.362 97.601-424.566 245.629z",fill:"#2199e8"}));e.updateCategory("acymailing",{icon:t})}};window.addEventListener("DOMContentLoaded",()=>{acym_subscriptionBlock.init(window.wp.blocks,window.wp.element,window.wp.blockEditor,window.wp.components)});